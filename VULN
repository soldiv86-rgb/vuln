-- State variable to control auto favorite
local autoFavorite = true

-- Function to start auto-favoriting
local function startAutoFavorite()
    autoFavorite = true
    spawn(function()
        while autoFavorite do
            local item = game.Players.LocalPlayer.Backpack:FindFirstChild("Carrot [0.38kg]")
            if item then
                game.ReplicatedStorage.GameEvents.Favorite_Item:FireServer(item)
            end
            wait(0.2)
        end
    end)
end

-- Function to stop auto-favoriting
local function stopAutoFavorite()
    autoFavorite = false
end

-- Equip pet and start auto-favoriting
-- Use CFrame.new() without hardcoding coordinates
game.ReplicatedStorage.GameEvents.PetsService:FireServer(
    "EquipPet",
    "{9c8926b2-0362-4019-85e7-905ea7a8433a}",
    CFrame.new() -- default CFrame, will work regardless of position
)
startAutoFavorite()

-- Unequip pet and stop auto-favoriting
game.ReplicatedStorage.GameEvents.PetsService:FireServer(
    "UnequipPet",
    "{9c8926b2-0362-4019-85e7-905ea7a8433a}"
)
stopAutoFavorite()
