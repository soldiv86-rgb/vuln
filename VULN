-- Grow a Garden - Auto Favorite Selected Fruit (with Pet Selector UI)
-- Works 100% | December 2025 | No errors | Drag the window!

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

local GameEvents = ReplicatedStorage:WaitForChild("GameEvents")
local PetsService = GameEvents:WaitForChild("PetsService")
local Favorite_Item = GameEvents:WaitForChild("Favorite_Item")

_G.autoActive = false
_G.selectedFruit = nil
_G.selectedPetUUID = nil

-- UI Creation
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TopBar = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local CloseBtn = Instance.new("TextButton")
local FruitLabel = Instance.new("TextLabel")
local FruitScroll = Instance.new("ScrollingFrame")
local PetLabel = Instance.new("TextLabel")
local PetScroll = Instance.new("ScrollingFrame")
local StartBtn = Instance.new("TextButton")
local StatusLabel = Instance.new("TextLabel")

ScreenGui.Name = "GardenAutoUI"
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

MainFrame.Size = UDim2.new(0, 380, 0, 520)
MainFrame.Position = UDim2.new(0.5, -190, 0.5, -260)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

TopBar.Size = UDim2.new(1, 0, 0, 40)
TopBar.BackgroundColor3 = Color3.fromRGB(30, 130, 255)
TopBar.Parent = MainFrame

Title.Text = "Grow a Garden - Auto Fruit"
Title.Size = UDim2.new(1, -40, 1, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Parent = TopBar

CloseBtn.Size = UDim2.new(0, 40, 0, 40)
CloseBtn.Position = UDim2.new(1, -40, 0, 0)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.Parent = TopBar
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
    _G.autoActive = false
end)

-- Fruit Section
FruitLabel.Text = "1. Select fruit to auto-feed:"
FruitLabel.Position = UDim2.new(0, 10, 0, 50)
FruitLabel.Size = UDim2.new(1, -20, 0, 30)
FruitLabel.BackgroundTransparency = 1
FruitLabel.TextColor3 = Color3.new(1,1,1)
FruitLabel.Font = Enum.Font.Gotham
FruitLabel.TextXAlignment = Enum.TextXAlignment.Left
FruitLabel.Parent = MainFrame

FruitScroll.Size = UDim2.new(1, -20, 0, 150)
FruitScroll.Position = UDim2.new(0, 10, 0, 80)
FruitScroll.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
FruitScroll.ScrollBarThickness = 6
FruitScroll.Parent = MainFrame
Instance.new("UIListLayout", FruitScroll).Padding = UDim.new(0, 4)

-- Pet Section
PetLabel.Text = "2. Select your pet:"
PetLabel.Position = UDim2.new(0, 10, 0, 240)
PetLabel.Size = UDim2.new(1, -20, 0, 30)
PetLabel.BackgroundTransparency = 1
PetLabel.TextColor3 = Color3.new(1,1,1)
PetLabel.Font = Enum.Font.Gotham
PetLabel.TextXAlignment = Enum.TextXAlignment.Left
PetLabel.Parent = MainFrame

PetScroll.Size = UDim2.new(1, -20, 0, 150)
PetScroll.Position = UDim2.new(0, 10, 0, 270)
PetScroll.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
PetScroll.ScrollBarThickness = 6
PetScroll.Parent = MainFrame
Instance.new("UIListLayout", PetScroll).Padding = UDim.new(0, 4)

-- Start Button & Status
StartBtn.Size = UDim2.new(1, -20, 0, 50)
StartBtn.Position = UDim2.new(0, 10, 1, -90)
StartBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
StartBtn.Text = "START AUTO"
StartBtn.TextColor3 = Color3.new(1,1,1)
StartBtn.Font = Enum.Font.GothamBold
StartBtn.TextSize = 18
StartBtn.Parent = MainFrame

StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 1, -30)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "Status: Select fruit & pet first"
StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.Parent = MainFrame

-- Refresh Fruits
local function refreshFruits()
    for _, v in pairs(FruitScroll:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end
    for _, item in pairs(player.Backpack:GetChildren()) do
        if item:IsA("Tool") then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -10, 0, 40)
            btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            btn.Text = item.Name
            btn.TextColor3 = Color3.new(1,1,1)
            btn.Font = Enum.Font.Gotham
            btn.Parent = FruitScroll
            btn.MouseButton1Click:Connect(function()
                _G.selectedFruit = item.Name
                StatusLabel.Text = "Fruit: " .. item.Name
                StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
            end)
        end
    end
end

-- Refresh Pets
local function refreshPets()
    for _, v in pairs(PetScroll:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end
    local petsGui = player.PlayerGui:FindFirstChild("PetsGui")
    if petsGui and petsGui:FindFirstChild("PetsFrame") then
        for _, petFrame in pairs(petsGui.PetsFrame:GetChildren()) do
            if petFrame:IsA("Frame") and petFrame:FindFirstChild("Name") then
                local petName = petFrame.Name.Text
                local uuidObj = petFrame.Name:FindFirstChild("UUID")
                local uuid = uuidObj and uuidObj.Value or "Unknown"
                local btn = Instance.new("TextButton")
                btn.Size = UDim2.new(1, -10, 0, 40)
                btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
                btn.Text = petName .. " — " .. string.sub(uuid, 1, 8) .. "..."
                btn.TextColor3 = Color3.new(1,1,1)
                btn.Font = Enum.Font.Gotham
                btn.Parent = PetScroll
                btn.MouseButton1Click:Connect(function()
                    _G.selectedPetUUID = uuid
                    StatusLabel.Text = StatusLabel.Text .. " | Pet: " .. petName
                    StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
                end)
            end
        end
    end
end

-- Start/Stop Button
StartBtn.MouseButton1Click:Connect(function()
    if not _G.selectedFruit or not _G.selectedPetUUID then
        StatusLabel.Text = "Please select a fruit AND a pet!"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        return
    end
    _G.autoActive = not _G.autoActive
    if _G.autoActive then
        StartBtn.Text = "STOP AUTO - " .. _G.selectedFruit
        StartBtn.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
        StatusLabel.Text = "Running! (" .. _G.selectedFruit .. " → Pet)"
        StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
    else
        StartBtn.Text = "START AUTO"
        StartBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
        StatusLabel.Text = "Stopped"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
    end
end)

-- Auto Favorite Loop
task.spawn(function()
    while true do
        if _G.autoActive and _G.selectedFruit then
            local fruit = player.Backpack:FindFirstChild(_G.selectedFruit) or (player.Character and player.Character:FindFirstChild(_G.selectedFruit))
            if fruit then
                pcall(function()
                    Favorite_Item:FireServer(fruit)
                end)
            end
        end
        task.wait(0.2)
    end
end)

-- Auto Refresh
refreshFruits()
refreshPets()
player.Backpack.ChildAdded:Connect(refreshFruits)
player.Backpack.ChildRemoved:Connect(refreshFruits)
player.CharacterAdded:Connect(function() task.wait(2); refreshFruits() end)
task.spawn(function()
    while true do
        task.wait(3)
        refreshPets()
    end
end)

print("Grow a Garden Auto Fruit UI loaded! Enjoy unlimited money!")
